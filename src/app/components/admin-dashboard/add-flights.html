<div class="flight-container">
  <div class="flight-card">
    <div class="card-header">
      <h4>Add Flights</h4>
    </div>
    <div class="card-body">
      <h5 class="section-title">Enter Flight Details</h5>
      
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>

      <form (ngSubmit)="addFlight()" #flightForm="ngForm" class="flight-form">
        <div class="form-grid">
          
          <div class="form-group group-third">
            <label>Airline Code <span class="required">*</span></label>
            <input type="text" [(ngModel)]="flight.airlineCode" name="acode" placeholder="e.g. IND" 
                   required #acode="ngModel" [class.invalid-input]="acode.invalid && (acode.dirty || acode.touched)">
            
            <div *ngIf="acode.invalid && (acode.dirty || acode.touched)" class="error-msg">
              Code is required.
            </div>
          </div>

          <div class="form-group group-third">
            <label>Airline Name <span class="required">*</span></label>
            <input type="text" [(ngModel)]="flight.airlineName" name="aname" placeholder="e.g. Indigo" 
                   required #aname="ngModel" [class.invalid-input]="aname.invalid && (aname.dirty || aname.touched)">
            
            <div *ngIf="aname.invalid && (aname.dirty || aname.touched)" class="error-msg">
              Airline Name is required.
            </div>
          </div>

          <div class="form-group group-third">
            <label>Aircraft Type <span class="required">*</span></label>
            <input type="text" [(ngModel)]="flight.aircraft" name="aircraft" placeholder="e.g. A320" 
                   required #aircraft="ngModel" [class.invalid-input]="aircraft.invalid && (aircraft.dirty || aircraft.touched)">
            
            <div *ngIf="aircraft.invalid && (aircraft.dirty || aircraft.touched)" class="error-msg">
              Aircraft type is required.
            </div>
          </div>

          <div class="form-group group-half">
            <label>Source (From) <span class="required">*</span></label>
            <input type="text" [(ngModel)]="flight.source" name="src" placeholder="e.g. BLR" 
                   required #src="ngModel" [class.invalid-input]="src.invalid && (src.dirty || src.touched)">
            
            <div *ngIf="src.invalid && (src.dirty || src.touched)" class="error-msg">
              Source is required.
            </div>
          </div>

          <div class="form-group group-half">
            <label>Destination (To) <span class="required">*</span></label>
            <input type="text" [(ngModel)]="flight.destination" name="dest" placeholder="e.g. CCU" 
                   required #dest="ngModel" [class.invalid-input]="dest.invalid && (dest.dirty || dest.touched)">
            
            <div *ngIf="dest.invalid && (dest.dirty || dest.touched)" class="error-msg">
              Destination is required.
            </div>
          </div>

          <div class="form-group group-half">
            <label>Departure Time <span class="required">*</span></label>
            <input type="datetime-local" [(ngModel)]="flight.departureTime" name="dept" 
                   [min]="minDate" required #dept="ngModel" [class.invalid-input]="dept.invalid && (dept.dirty || dept.touched)">
            
            <div *ngIf="dept.invalid && (dept.dirty || dept.touched)" class="error-msg">
              Departure time is required.
            </div>
          </div>

          <div class="form-group group-half">
            <label>Arrival Time <span class="required">*</span></label>
            <input type="datetime-local" [(ngModel)]="flight.arrivalTime" name="arr" 
                   [min]="flight.departureTime || minDate" required #arr="ngModel" [class.invalid-input]="arr.invalid && (arr.dirty || arr.touched)">
            
            <div *ngIf="arr.invalid && (arr.dirty || arr.touched)" class="error-msg">
              Arrival time is required.
            </div>
          </div>

          <div class="form-group group-half">
            <label>Price (â‚¹) <span class="required">*</span></label>
            <input type="number" [(ngModel)]="flight.price" name="price" required min="1" 
                   #price="ngModel" [class.invalid-input]="price.invalid && (price.dirty || price.touched)">
            
            <div *ngIf="price.invalid && (price.dirty || price.touched)" class="error-msg">
              <span *ngIf="price.errors?.['required']">Price is required.</span>
              <span *ngIf="price.errors?.['min']">Price must be greater than 0.</span>
            </div>
          </div>

          <div class="form-group group-half">
            <label>Total Seats <span class="required">*</span></label>
            <input type="number" [(ngModel)]="flight.totalSeats" name="seats" required min="1" 
                   #seats="ngModel" [class.invalid-input]="seats.invalid && (seats.dirty || seats.touched)">
            
            <div *ngIf="seats.invalid && (seats.dirty || seats.touched)" class="error-msg">
              <span *ngIf="seats.errors?.['required']">Total seats are required.</span>
              <span *ngIf="seats.errors?.['min']">Must be at least 1 seat.</span>
            </div>
          </div>

        </div>

        <button type="submit" class="btn-submit" [disabled]="flightForm.invalid">
          Add Flight
        </button>
      </form>
    </div>
  </div>
</div>